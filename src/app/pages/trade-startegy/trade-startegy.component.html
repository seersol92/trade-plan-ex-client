<ng-template #strategiesTemp let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title"> {{ isEditStrategy ? 'UPDATE' : '' }} {{ strategyType == 1 ? 'DAILY STRATEGY' : 'LONG TERM STRATEGY' }}</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <fieldset>
      <div class="form-group">
        <div class="row">
          <div class="col-md-12 col-xs-12">
            <label for="title">
              <strong>Write Strategy*</strong>
            </label>
          </div>
          <div class="col-md-12 col-xs-12">
            <input type="text" class="form-control" [(ngModel)]="strategyText" placeholder="Enter Strategy Text Here..">
          </div>
        </div>
      </div>
    </fieldset>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">Close</button>
    <button type="button" class="btn btn-success btn-raised" [disabled]='isFormProcessing' *ngIf='!isEditStrategy; else updateBtn' (click)='submitStrategy()'>
      Save
    </button>
    <ng-template #updateBtn>
      <button type="button" class="btn btn-success btn-raised" [disabled]='isFormProcessing' (click)="updateStrategy()">
        Update
      </button>
    </ng-template>
  </div>
</ng-template>

<div class="content-body">
  <section id="drag-area">
    <div class="row">
      <div class="col-md-12 text-center mb-2">
        <h3>
          <b>
            {{title}}
          </b>
        </h3>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">DAILY STRATEGY
              <i class="ft-user float-right"></i>
            </h4>
            <a class="heading-elements-toggle">
              <i class="fa fa-ellipsis-v font-medium-3"></i>
            </a>
            <div class="heading-elements">
              <ul class="list-inline mb-0">
                <li>
                  <a data-action="collapse">
                    <i class="ft-minus"></i>
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <div class="card-content collapse show">
            <div class="card-body">
              <div class="form-group">
                <div class="row">
                  <div class="col-md-4  col-xs-12 mt-1">
                    <label for="title" style="float: right;">
                      <strong>MAX DAILY LOSS:</strong>
                    </label>
                  </div>
                  <div class="col-md-3 col-xs-12 mt-1">
                    <span style="color:red">
                      1%
                    </span>
                  </div>
                  <div class="col-md-4 col-xs-12 mt-1">
                    <input type="text" class="form-control" placeholder="STOP TRADING" disabled>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-4  col-xs-12 mt-1">
                    <label for="title" style="float: right;">
                      <strong>DAILY GOAL:</strong>
                    </label>
                  </div>
                  <div class="col-md-3 col-xs-12 mt-1">
                    <span style="color:green">
                      +0.5%
                    </span>

                  </div>
                  <div class="col-md-4 col-xs-12 mt-1">
                    <input type="text" class="form-control" placeholder="LIMIT TRADING" disabled>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <ul class="list-group list-group-flush trade-terms-list ">
                    <div *ngIf='dailyStrategyList?.length > 0 ; else noStrategy'>
                      <li class="list-group-item" *ngFor='let strategy of dailyStrategyList; index as i'>
                        <div class="float-right">
                          <button class="btn btn-info btn-circle" placement="bottom" ngbTooltip="Edit?" 
                          (click)="editStrategyData(1, i, strategiesTemp)"
                          >
                            <i class="ft-edit"></i>
                          </button>
                          <button class="btn btn-danger btn-circle" placement="bottom" ngbTooltip="Delete?" (click)='deleteStrategy(1, i)'>
                            <i class="ft-trash-2"></i>
                          </button>
                        </div>
                        {{strategy}}
                      </li>
                    </div>
                    <ng-template #noStrategy>
                      <li class="list-group-item">
                        <div role="alert" class="alert alert-info ">
                          <strong>Info!</strong> Daily Strategy not found!!
                        </div>
                      </li>
                    </ng-template>
                  </ul>
                </div>
              </div>
            </div>
            <div class="card-body float-right">
              <button type="button" class="btn btn-float btn-outline-primary btn-round" placement="bottom" ngbTooltip="Add daily strategies"
                (click)='addStrategies(1, strategiesTemp)'>
                <i class="fa fa-plus-circle"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">LONG TERM STRATEGY</h4>
            <a class="heading-elements-toggle">
              <i class="fa fa-ellipsis-v font-medium-3"></i>
            </a>
            <div class="heading-elements">
              <ul class="list-inline mb-0">
                <li>
                  <a data-action="collapse">
                    <i class="ft-minus"></i>
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <div class="card-content collapse show">
            <div class="card-body">
              <div class="form-group">
                <div class="row">
                  <div class="col-md-4  col-xs-12 mt-1">
                    <label for="title" style="float: right;">
                      <strong>MAX YTD LOSS:</strong>
                    </label>
                  </div>
                  <div class="col-md-3 col-xs-12 mt-1">
                    <span style="color:red">
                      1%
                    </span>

                  </div>
                  <div class="col-md-4 col-xs-12 mt-1">
                    <input type="text" class="form-control" placeholder="STOP TRADING" disabled>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-4  col-xs-12 mt-1">
                    <label for="title" style="float: right;">
                      <strong>YTD GOAL:</strong>
                    </label>
                  </div>
                  <div class="col-md-3 col-xs-12 mt-1">
                    <span style="color:green">
                      +0.5%
                    </span>

                  </div>
                  <div class="col-md-4 col-xs-12 mt-1">
                    <input type="text" class="form-control" placeholder="LIMIT TRADING" disabled>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <ul class="list-group list-group-flush trade-terms-list ">
                    <div *ngIf='longTermStrategyList?.length > 0 ; else noStrategy'>
                      <li class="list-group-item" *ngFor='let strategy of longTermStrategyList; index as i'>
                        <div class="float-right">
                          <button class="btn btn-info btn-circle" placement="bottom" ngbTooltip="Edit?" 
                          (click)="editStrategyData(2, i, strategiesTemp)"
                          >
                            <i class="ft-edit"></i>
                          </button>
                          <button class="btn btn-danger btn-circle" placement="bottom" ngbTooltip="Delete?" (click)='deleteStrategy(2, i)'>
                            <i class="ft-trash-2"></i>
                          </button>
                        </div>
                        {{strategy}}
                      </li>
                    </div>
                    <ng-template #noStrategy>
                      <li class="list-group-item">
                        <div role="alert" class="alert alert-info ">
                          <strong>Info!</strong> Long Term Strategy not found!!
                        </div>
                      </li>
                    </ng-template>
                  </ul>
                </div>
              </div>
            </div>
            <div class="card-body float-right">
              <button type="button" class="btn btn-float btn-outline-primary btn-round" (click)='addStrategies(2, strategiesTemp)' placement="bottom"
                ngbTooltip="Add long term strategies">
                <i class="fa fa-plus-circle"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
